{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["const pickedDate = document.querySelector(\"#datetime-picker\");\nconst startBtn = document.querySelector(\"[data-start]\");\n\nstartBtn.disabled = true;\n\nconst daysSpan = document.querySelector(\"[data-days]\");\nconst hoursSpan = document.querySelector(\"[data-hours]\");\nconst minutesSpan = document.querySelector(\"[data-minutes]\");\nconst secondsSpan = document.querySelector(\"[data-seconds]\");\n\nlet selectedDate = null;\nlet intervalId = null;\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, \"0\");\n}\n\nfunction checkDate(selectedDates) {\n  const now = new Date();\n\n  if (selectedDates[0] > now) {\n    selectedDate = selectedDates[0];\n    startBtn.disabled = false;\n  } else {\n    startBtn.disabled = true;\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please choose a date in the future\",\n      closeOnEscape: true,\n      position: \"topCenter\",\n    });\n  }\n}\n\nfunction clockUpdate() {\n  const now = new Date();\n  const timeRemaining = selectedDate - now;\n  \n\n  if (timeRemaining <= 0) {\n    clearInterval(intervalId);\n    startBtn.disabled = true;\n    pickedDate.disabled = false;\n    return;\n  }\n  const { days, hours, minutes, seconds } = convertMs(timeRemaining);\n\n  daysSpan.textContent = addLeadingZero(days);\n  hoursSpan.textContent = addLeadingZero(hours);\n  minutesSpan.textContent = addLeadingZero(minutes);\n  secondsSpan.textContent = addLeadingZero(seconds);\n}\n\nfunction onStartButtonClick() {\n  startBtn.disabled = true;\n  pickedDate.disabled = true;\n\n  clockUpdate();\n\n  intervalId = setInterval(clockUpdate, 1000);\n}\n\nstartBtn.addEventListener(\"click\", onStartButtonClick);\n\nflatpickr(pickedDate, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose: checkDate,\n});"],"names":["pickedDate","startBtn","daysSpan","hoursSpan","minutesSpan","secondsSpan","selectedDate","intervalId","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","checkDate","selectedDates","now","clockUpdate","timeRemaining","onStartButtonClick"],"mappings":"wFAAA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAW,SAAS,cAAc,cAAc,EAEtDA,EAAS,SAAW,GAEpB,MAAMC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAe,KACfC,EAAa,KAEjB,SAASC,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASC,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASC,EAAUC,EAAe,CAChC,MAAMC,EAAM,IAAI,KAEZD,EAAc,CAAC,EAAIC,GACrBZ,EAAeW,EAAc,CAAC,EAC9BhB,EAAS,SAAW,KAEpBA,EAAS,SAAW,GACpB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,cAAe,GACf,SAAU,WAChB,CAAK,EAEL,CAEA,SAASkB,GAAc,CAErB,MAAMC,EAAgBd,EADV,IAAI,KAIhB,GAAIc,GAAiB,EAAG,CACtB,cAAcb,CAAU,EACxBN,EAAS,SAAW,GACpBD,EAAW,SAAW,GACtB,MACD,CACD,KAAM,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUY,CAAa,EAEjElB,EAAS,YAAcY,EAAeJ,CAAI,EAC1CP,EAAU,YAAcW,EAAeH,CAAK,EAC5CP,EAAY,YAAcU,EAAeF,CAAO,EAChDP,EAAY,YAAcS,EAAeD,CAAO,CAClD,CAEA,SAASQ,GAAqB,CAC5BpB,EAAS,SAAW,GACpBD,EAAW,SAAW,GAEtBmB,IAEAZ,EAAa,YAAYY,EAAa,GAAI,CAC5C,CAEAlB,EAAS,iBAAiB,QAASoB,CAAkB,EAErD,UAAUrB,EAAY,CACpB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAASgB,CACX,CAAC"}